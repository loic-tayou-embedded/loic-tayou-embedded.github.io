<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Véhicule autonome CoVAPSy – TAYOU Loïc Wilfried</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body{margin:0;font-family:system-ui;background:radial-gradient(circle at top,#111827,#020617);color:#e5e7eb;line-height:1.6}
        a{text-decoration:none;color:inherit}
        .container{max-width:900px;margin:0 auto;padding:0 1.2rem}
        header{position:sticky;top:0;z-index:10;background:rgba(2,6,23,.9);backdrop-filter:blur(10px);border-bottom:1px solid #1f2937}
        .nav{display:flex;justify-content:space-between;align-items:center;padding:.7rem 0}
        .logo{font-weight:700;letter-spacing:.08em;text-transform:uppercase;font-size:.9rem}
        main{padding:2.5rem 0 3rem}
        .section-title{font-size:1.6rem;margin-bottom:1rem;display:flex;align-items:center;gap:.7rem}
        .section-title i{color:#4f46e5}
        .tags{display:flex;flex-wrap:wrap;gap:.4rem;margin:.8rem 0 1.2rem}
        .tag{font-size:.75rem;padding:.2rem .6rem;border-radius:999px;border:1px solid rgba(148,163,184,.5);background:#020617;color:#9ca3af}
        .card{background:#111827;border-radius:1rem;border:1px solid #1f2937;padding:1.2rem 1.3rem;margin-bottom:1rem}
        h3{margin:.6rem 0}
        footer{text-align:center;padding:1rem 0 2rem;font-size:.8rem;color:#9ca3af}
        .links{display:flex;flex-wrap:wrap;gap:.8rem;margin-top:1rem}
        .btn{display:inline-flex;align-items:center;gap:.4rem;padding:.4rem .9rem;border-radius:999px;border:1px solid #4f46e5;background:#4f46e5;color:#e5e7eb;font-size:.85rem}
        .btn.secondary{background:transparent;border-color:#374151;color:#9ca3af}
        .btn:hover{opacity:.9}
    </style>
</head>
<body>
<header>
    <div class="container nav">
        <div class="logo">TAYOU Loïc Wilfried</div>
        <nav>
            <ul style="display:flex;gap:1rem;list-style:none;font-size:.9rem;">
                <li><a href="index.html#projects">Retour au portfolio</a></li>
            </ul>
        </nav>
    </div>
</header>

<main>
    <div class="container">
        <h2 class="section-title"><i class="fas fa-car-side"></i> Véhicule autonome CoVAPSy – STM32 + LiDAR 360°</h2>
        <p><strong>Type :</strong> Projet de groupe – 5ᵉ année cycle ingénieur – Version STM32 only</p>

        <div class="tags">
            <span class="tag">Projet de groupe</span>
            <span class="tag">STM32 NUCLEO-L432KC</span>
            <span class="tag">UART + DMA</span>
            <span class="tag">LiDAR 360°</span>
            <span class="tag">Véhicule autonome</span>
        </div>

        <section class="card">
            <h3>Résumé du projet</h3>
            <p>
                Projet de 5ᵉ année avec pour but une participation à la compétition CoVAPSy (Course de Voitures Autonomes Paris-Saclay) avec un véhicule
                1/10ᵉ utilisant une carte NUCLEO-L432KC (STM32), un moteur DC pour la propulsion, un servomoteur pour la
                direction et un LiDAR Slamtec A2M12 360° pour la perception de l’environnement. La version choisie
                « STM32 only » ne s’appuie que sur le microcontrôleur (pas de nano-ordinateur).
            </p>
        </section>

        <section class="card">
            <h3>Ce que j’ai réalisé</h3>
            <ul>
                <li>Configuration de l’horloge STM32 et des timers TIM1/TIM2 pour la génération des PWM :
                    <ul>
                        <li>TIM1 : PWM propulsion et direction (période 20 ms pour servo / variateur).</li>
                        <li>TIM2 : PWM pour le moteur du LiDAR.</li>
                    </ul>
                </li>
                <li>Configuration de l’UART1 à <strong>256 000 bauds</strong> avec <strong>DMA ping-pong (Double Buffer)</strong> pour réception continue
                    des trames LiDAR (DMA1 Channel5 + interruption de fin de transfert).</li>
                <li>Développement du module LiDAR :
                    <ul>
                        <li>fonction <code>Lidar_init()</code> : démarrage du moteur, envoi des commandes start/stop scan, configuration DMA,</li>
                        <li>double buffer DMA (<code>active_buffer</code> / <code>processing_buffer</code>) et callback <code>HAL_UART_RxCpltCallback()</code> pour marquer les données prêtes,</li>
                        <li>fonction <code>mesure()</code> : décodage des paquets (5 octets), calcul de l’angle et de la distance, remplissage d’un tableau de 360 points.</li>
                    </ul>
                </li>
                <li>Conception de l’algorithme de navigation :
                    <ul>
                        <li>fonction <code>calculer_erreur_maximale_opt()</code> pour comparer les distances gauche/droite sur l’anneau de mesures,</li>
                        <li>loi de commande : angle de direction proportionnel à l’erreur, vitesse réduite quand l’angle augmente,</li>
                        <li>fonctions <code>set_direction_degres()</code> et <code>set_vitesse_m_s()</code> pilotant les PWM.</li>
                    </ul>
                </li>
            </ul>
        </section>

        <section class="card">
            <h3>Techno &amp; outils</h3>
            <p>STM32 NUCLEO-L432KC, STM32CubeIDE, HAL STM32, UART + DMA, timers/PWM, LiDAR Slamtec A2M12, C embarqué.</p>
            <div class="links">
                <a class="btn secondary" href="index.html#projects"><i class="fas fa-arrow-left"></i> Retour au portfolio</a>
                <a class="btn" href="https://github.com/loic-tayou-embedded/covapsy-vehicule-autonome-stm32-lidar" target="_blank">
                    <i class="fab fa-github"></i> Code source (GitHub)
                </a>
            </div>
        </section>
    </div>
</main>

<footer>
    &copy; 2025 – TAYOU Loïc Wilfried
</footer>
</body>
</html>
